author: Cisco Systems, Inc.
description:
- Fabric for a VXLAN EVPN deployment with Nexus 9000 and 3000 switches.
module: dcnm_easy_fabric
options:
    config:
        description:
        - A list of fabric configuration dictionaries
        elements: dict
        suboptions:
        -   aaa_remote_ip_enabled:
                default: 0
                description:
                - Enable only, when IP Authorization is enabled in the AAA Server
                ndfc_gui_label: Enable AAA IP Authorization
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   aaa_server_conf:
                description:
                - AAA Configurations
                ndfc_gui_label: AAA Freeform Config
                ndfc_gui_section: Manageability
                required: false
                type: str
        -   advertise_pip_bgp:
                default: 0
                description:
                - For Primary VTEP IP Advertisement As Next-Hop Of Prefix Routes
                ndfc_gui_label: vPC advertise-pip
                ndfc_gui_section: vPC
                required: false
                type: bool
        -   advertise_pip_on_border:
                default: 1
                description:
                - Enable advertise-pip on vPC borders and border gateways only. Applicable
                    only when vPC advertise-pip is not enabled
                ndfc_gui_label: vPC advertise-pip on Border only
                ndfc_gui_section: vPC
                required: false
                type: bool
        -   anycast_bgw_advertise_pip:
                default: 0
                description:
                - To advertise Anycast Border Gateway PIP as VTEP. Effective on MSD
                    fabric Recalculate Config
                ndfc_gui_label: Anycast Border Gateway advertise-pip
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   anycast_gw_mac:
                default: 2020.0000.00aa
                description:
                - Shared MAC address for all leafs (xxxx.xxxx.xxxx)
                ndfc_gui_label: Anycast Gateway MAC
                required: true
                type: macAddress
        -   anycast_lb_id:
                default: 10
                description:
                - Used for vPC Peering in VXLANv6 Fabrics (Min:0, Max:1023)
                max: 1023
                min: 0
                ndfc_gui_label: Underlay Anycast Loopback Id
                ndfc_gui_section: Protocols
                required: true
                type: int
        -   anycast_rp_ip_range:
                default: 10.254.254.0/24
                description:
                - Anycast or Phantom RP IP Address Range
                ndfc_gui_label: Underlay RP Loopback IP Range
                ndfc_gui_section: Resources
                required: true
                type: ipv4_subnet
        -   auto_symmetric_default_vrf:
                default: 0
                description:
                - Whether to auto generate Default VRF interface and BGP peering configuration
                    on managed neighbor devices. If set, auto created VRF Lite IFC
                    links will have Auto Deploy Default VRF for Peer enabled.
                ndfc_gui_label: Auto Deploy Default VRF for Peer
                ndfc_gui_section: Resources
                required: false
                type: bool
        -   auto_symmetric_vrf_lite:
                default: 0
                description:
                - Whether to auto generate VRF LITE sub-interface and BGP peering
                    configuration on managed neighbor devices. If set, auto created
                    VRF Lite IFC links will have Auto Deploy for Peer enabled.
                ndfc_gui_label: Auto Deploy for Peer
                ndfc_gui_section: Resources
                required: false
                type: bool
        -   auto_unique_vrf_lite_ip_prefix:
                default: 0
                description:
                - When enabled, IP prefix allocated to the VRF LITE IFC is not reused
                    on VRF extension over VRF LITE IFC. Instead, unique IP Subnet
                    is allocated for each VRF extension over VRF LITE IFC.
                ndfc_gui_label: Auto Allocation of Unique IP on VRF Extension over
                    VRF Lite IFC
                ndfc_gui_section: Resources
                required: false
                type: bool
        -   auto_vrflite_ifc_default_vrf:
                default: 0
                description:
                - Whether to auto generate Default VRF interface and BGP peering configuration
                    on VRF LITE IFC auto deployment. If set, auto created VRF Lite
                    IFC links will have Auto Deploy Default VRF enabled.
                ndfc_gui_label: Auto Deploy Default VRF
                ndfc_gui_section: Resources
                required: false
                type: bool
        -   banner:
                description:
                - Message of the Day (motd) banner. Delimiter char (very first char
                    is delimiter char) followed by message ending with delimiter
                ndfc_gui_label: Banner
                ndfc_gui_section: Manageability
                required: false
                type: str
        -   bfd_auth_enable:
                default: 0
                description:
                - Valid for P2P Interfaces only
                ndfc_gui_label: Enable BFD Authentication
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   bfd_auth_key:
                description:
                - Encrypted SHA1 secret value
                ndfc_gui_label: BFD Authentication Key
                ndfc_gui_section: Protocols
                required: true
                type: str
        -   bfd_auth_key_id:
                default: 100
                description:
                - unknown
                ndfc_gui_label: BFD Authentication Key ID
                ndfc_gui_section: Protocols
                required: true
                type: int
        -   bfd_enable:
                default: 0
                description:
                - Valid for IPv4 Underlay only
                ndfc_gui_label: Enable BFD
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   bfd_ibgp_enable:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable BFD For iBGP
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   bfd_isis_enable:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable BFD For ISIS
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   bfd_ospf_enable:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable BFD For OSPF
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   bfd_pim_enable:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable BFD For PIM
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   bgp_as:
                description:
                - 1-4294967295 | 1-65535.0-65535 It is a good practice to have a unique
                    ASN for each Fabric.
                ndfc_gui_label: BGP ASN
                required: true
                type: str
        -   bgp_auth_enable:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable BGP Authentication
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   bgp_auth_key:
                description:
                - Encrypted BGP Authentication Key based on type
                ndfc_gui_label: BGP Authentication Key
                ndfc_gui_section: Protocols
                required: true
                type: str
        -   bgp_auth_key_type:
                choices:
                - 3
                - 7
                default: 3
                description:
                - 'BGP Key Encryption Type: 3 - 3DES, 7 - Cisco'
                ndfc_gui_label: BGP Authentication Key Encryption Type
                ndfc_gui_section: Protocols
                required: true
                type: str
        -   bgp_lb_id:
                default: 0
                description:
                - (Min:0, Max:1023)
                max: 1023
                min: 0
                ndfc_gui_label: Underlay Routing Loopback Id
                ndfc_gui_section: Protocols
                required: true
                type: int
        -   bootstrap_conf:
                description:
                - Additional CLIs required during device bootup/login e.g. AAA/Radius
                ndfc_gui_label: Bootstrap Freeform Config
                ndfc_gui_section: Bootstrap
                required: false
                type: str
        -   bootstrap_enable:
                default: 0
                description:
                - Automatic IP Assignment For POAP
                ndfc_gui_label: Enable Bootstrap
                ndfc_gui_section: Bootstrap
                required: false
                type: bool
        -   bootstrap_multisubnet:
                default: '#Scope_Start_IP, Scope_End_IP, Scope_Default_Gateway, Scope_Subnet_Prefix'
                description:
                - 'lines with # prefix are ignored here'
                ndfc_gui_label: DHCPv4 Multi Subnet Scope
                ndfc_gui_section: Bootstrap
                required: false
                type: str
        -   brownfield_network_name_format:
                default: Auto_Net_VNI$$VNI$$_VLAN$$VLAN_ID$$
                description:
                - Generated network name should be &lt; 64 characters
                ndfc_gui_label: Brownfield Overlay Network Name Format
                ndfc_gui_section: Advanced
                required: false
                type: str
        -   brownfield_skip_overlay_network_attachments:
                default: 0
                description:
                - Enable to skip overlay network interface attachments for Brownfield
                    and Host Port Resync cases
                ndfc_gui_label: Skip Overlay Network Interface Attachments
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   cdp_enable:
                default: 0
                description:
                - Enable CDP on management interface
                ndfc_gui_label: Enable CDP for Bootstrapped Switch
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   copp_policy:
                choices:
                - dense
                - lenient
                - moderate
                - strict
                - manual
                default: strict
                description:
                - Fabric Wide CoPP Policy. Customized CoPP policy should be provided
                    when manual is selected
                ndfc_gui_label: CoPP Profile
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   dci_subnet_range:
                default: 10.33.0.0/16
                description:
                - Address range to assign P2P Interfabric Connections
                ndfc_gui_label: VRF Lite Subnet IP Range
                ndfc_gui_section: Resources
                required: true
                type: ipv4_subnet
        -   dci_subnet_target_mask:
                default: 30
                description:
                - (Min:8, Max:31)
                max: 31
                min: 8
                ndfc_gui_label: VRF Lite Subnet Mask
                ndfc_gui_section: Resources
                required: true
                type: int
        -   default_network:
                choices:
                - Default_Network_Universal
                - Service_Network_Universal
                default: Default_Network_Universal
                description:
                - Default Overlay Network Template For Leafs
                ndfc_gui_label: Network Template
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   default_pvlan_sec_network:
                choices: []
                default: Pvlan_Secondary_Network
                description:
                - Default PVLAN Secondary Network Template
                ndfc_gui_label: PVLAN Secondary Network Template
                ndfc_gui_section: Advanced
                required: false
                type: str
        -   default_queuing_policy_cloudscale:
                choices:
                - queuing_policy_default_4q_cloudscale
                - queuing_policy_default_8q_cloudscale
                default: queuing_policy_default_8q_cloudscale
                description:
                - Queuing Policy for all 92xx, -EX, -FX, -FX2, -FX3, -GX series switches
                    in the fabric
                ndfc_gui_label: N9K Cloud Scale Platform Queuing Policy
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   default_queuing_policy_other:
                choices:
                - queuing_policy_default_other
                default: queuing_policy_default_other
                description:
                - Queuing Policy for all other switches in the fabric
                ndfc_gui_label: Other N9K Platform Queuing Policy
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   default_queuing_policy_r_series:
                choices:
                - queuing_policy_default_r_series
                default: queuing_policy_default_r_series
                description:
                - Queuing Policy for all R-Series switches in the fabric
                ndfc_gui_label: N9K R-Series Platform Queuing Policy
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   default_vrf:
                choices:
                - Default_VRF_Universal
                default: Default_VRF_Universal
                description:
                - Default Overlay VRF Template For Leafs
                ndfc_gui_label: VRF Template
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   default_vrf_redis_bgp_rmap:
                default: extcon-rmap-filter
                description:
                - Route Map used to redistribute BGP routes to IGP in default vrf
                    in auto created VRF Lite IFC links
                ndfc_gui_label: Redistribute BGP Route-map Name
                ndfc_gui_section: Resources
                required: false
                type: str
        -   dhcp_enable:
                default: 0
                description:
                - Automatic IP Assignment For POAP From Local DHCP Server
                ndfc_gui_label: Enable Local DHCP Server
                ndfc_gui_section: Bootstrap
                required: false
                type: bool
        -   dhcp_end:
                description:
                - End Address For Switch POAP
                ndfc_gui_label: DHCP Scope End Address
                ndfc_gui_section: Bootstrap
                required: true
                type: ipv4
        -   dhcp_ipv6_enable:
                choices:
                - DHCPv4
                - DHCPv6
                default: DHCPv4
                description:
                - unknown
                ndfc_gui_label: DHCP Version
                ndfc_gui_section: Bootstrap
                required: false
                type: str
        -   dhcp_start:
                description:
                - Start Address For Switch POAP
                ndfc_gui_label: DHCP Scope Start Address
                ndfc_gui_section: Bootstrap
                required: true
                type: ipv4
        -   dns_server_ip_list:
                description:
                - Comma separated list of IP Addresses(v4/v6)
                ndfc_gui_label: DNS Server IPs
                ndfc_gui_section: Manageability
                required: false
                type: ipAddressList
        -   dns_server_vrf:
                description:
                - One VRF for all DNS servers or a comma separated list of VRFs, one
                    per DNS server
                ndfc_gui_label: DNS Server VRFs
                ndfc_gui_section: Manageability
                required: false
                type: string[]
        -   enable_aaa:
                default: 0
                description:
                - Include AAA configs from Manageability tab during device bootup
                ndfc_gui_label: Enable AAA Config
                ndfc_gui_section: Bootstrap
                required: false
                type: bool
        -   enable_default_queuing_policy:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable Default Queuing Policies
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   enable_fabric_vpc_domain_id:
                default: 0
                description:
                - '(Not Recommended) '
                ndfc_gui_label: Enable the same vPC Domain Id for all vPC Pairs
                ndfc_gui_section: vPC
                required: false
                type: bool
        -   enable_macsec:
                default: 0
                description:
                - Enable MACsec in the fabric
                ndfc_gui_label: Enable MACsec
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   enable_netflow:
                default: 0
                description:
                - Enable Netflow on VTEPs
                ndfc_gui_label: Enable Netflow
                ndfc_gui_section: Flow Monitor
                required: false
                type: bool
        -   enable_ngoam:
                default: 1
                description:
                - Enable the Next Generation (NG) OAM feature for all switches in
                    the fabric to aid in trouble-shooting VXLAN EVPN fabrics
                ndfc_gui_label: Enable VXLAN OAM
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   enable_nxapi:
                default: 1
                description:
                - Enable HTTPS NX-API
                ndfc_gui_label: Enable NX-API
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   enable_nxapi_http:
                default: 1
                description:
                - unknown
                ndfc_gui_label: Enable HTTP NX-API
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   enable_pbr:
                default: 0
                description:
                - When ESR option is ePBR, enable ePBR will enable pbr, sla sender
                    and epbr features on the switch
                ndfc_gui_label: Enable Policy-Based Routing (PBR)/Enhanced PBR (ePBR)
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   enable_pvlan:
                default: 0
                description:
                - Enable PVLAN on switches except spines and super spines
                ndfc_gui_label: Enable Private VLAN (PVLAN)
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   enable_real_time_backup:
                description:
                - Backup hourly only if there is any config deployment since last
                    backup
                ndfc_gui_label: Hourly Fabric Backup
                ndfc_gui_section: Configuration Backup
                required: false
                type: bool
        -   enable_scheduled_backup:
                description:
                - Backup at the specified time
                ndfc_gui_label: Scheduled Fabric Backup
                ndfc_gui_section: Configuration Backup
                required: false
                type: bool
        -   enable_tenant_dhcp:
                default: 1
                description:
                - unknown
                ndfc_gui_label: Enable Tenant DHCP
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   enable_trm:
                default: 0
                description:
                - For Overlay Multicast Support In VXLAN Fabrics
                ndfc_gui_label: Enable Tenant Routed Multicast (TRM)
                ndfc_gui_section: Replication
                required: false
                type: bool
        -   enable_vpc_peer_link_native_vlan:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Make vPC Peer Link VLAN as Native VLAN
                ndfc_gui_section: vPC
                required: false
                type: bool
        -   esr_option:
                default: PBR
                description:
                - Policy-Based Routing (PBR) or Enhanced PBR (ePBR)
                ndfc_gui_label: Elastic Services Re-direction (ESR) Options
                ndfc_gui_section: Advanced
                required: false
                type: enum
        -   extra_conf_intra_links:
                description:
                - Additional CLIs For All Intra-Fabric Links
                ndfc_gui_label: Intra-fabric Links Additional Config
                ndfc_gui_section: Advanced
                required: false
                type: str
        -   extra_conf_leaf:
                description:
                - Additional CLIs For All Leafs As Captured From Show Running Configuration
                ndfc_gui_label: Leaf Freeform Config
                ndfc_gui_section: Advanced
                required: false
                type: str
        -   extra_conf_spine:
                description:
                - Additional CLIs For All Spines As Captured From Show Running Configuration
                ndfc_gui_label: Spine Freeform Config
                ndfc_gui_section: Advanced
                required: false
                type: str
        -   extra_conf_tor:
                description:
                - Additional CLIs For All ToRs As Captured From Show Running Configuration
                ndfc_gui_label: ToR Freeform Config
                ndfc_gui_section: Advanced
                required: false
                type: str
        -   fabric_interface_type:
                choices:
                - p2p
                - unnumbered
                default: p2p
                description:
                - Numbered(Point-to-Point) or Unnumbered
                ndfc_gui_label: Fabric Interface Numbering
                required: true
                type: str
        -   fabric_mtu:
                default: 9216
                description:
                - (Min:576, Max:9216). Must be an even number
                max: 9216
                min: 576
                ndfc_gui_label: Intra Fabric Interface MTU
                ndfc_gui_section: Advanced
                required: true
                type: int
        -   fabric_name:
                description:
                - Please provide the fabric name to create it (Max Size 32)
                ndfc_gui_label: Fabric Name
                required: true
                type: str
        -   fabric_vpc_domain_id:
                default: 1
                description:
                - vPC Domain Id to be used on all vPC pairs
                ndfc_gui_label: vPC Domain Id
                ndfc_gui_section: vPC
                required: true
                type: int
        -   fabric_vpc_qos:
                default: 0
                description:
                - Qos on spines for guaranteed delivery of vPC Fabric Peering communication
                ndfc_gui_label: Enable Qos for Fabric vPC-Peering
                ndfc_gui_section: vPC
                required: false
                type: bool
        -   fabric_vpc_qos_policy_name:
                default: spine_qos_for_fabric_vpc_peering
                description:
                - Qos Policy name should be same on all spines
                ndfc_gui_label: Qos Policy Name
                ndfc_gui_section: vPC
                required: true
                type: str
        -   feature_ptp:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable Precision Time Protocol (PTP)
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   grfield_debug_flag:
                choices:
                - Enable
                - Disable
                default: Disable
                description:
                - Enable to clean switch configuration without reload when PreserveConfig=no
                ndfc_gui_label: Greenfield Cleanup Option
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   hd_time:
                default: 180
                description:
                - NVE Source Inteface HoldDown Time (Min:1, Max:1500) in seconds
                max: 1500
                min: 1
                ndfc_gui_label: VTEP HoldDown Time
                ndfc_gui_section: Advanced
                required: false
                type: int
        -   host_intf_admin_state:
                default: 1
                description:
                - unknown
                ndfc_gui_label: Unshut Host Interfaces by Default
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   ibgp_peer_template:
                description:
                - 'Speficies the iBGP Peer-Template config used for RR and spines
                    with border role. '
                ndfc_gui_label: iBGP Peer-Template Config
                ndfc_gui_section: Protocols
                required: false
                type: str
        -   ibgp_peer_template_leaf:
                description:
                - Specifies the config used for leaf, border or border gateway. If
                    this field is empty, the peer template defined in iBGP Peer-Template
                    Config is used on all BGP enabled devices (RRs,leafs, border or
                    border gateway roles.
                ndfc_gui_label: 'Leaf/Border/Border Gateway iBGP Peer-Template Config '
                ndfc_gui_section: Protocols
                required: false
                type: str
        -   inband_dhcp_servers:
                description:
                - Comma separated list of IPv4 Addresses (Max 3)
                ndfc_gui_label: External DHCP Server IP Addresses
                ndfc_gui_section: Bootstrap
                required: true
                type: ipAddressList
        -   inband_mgmt:
                default: 0
                description:
                - Manage switches with only Inband connectivity
                ndfc_gui_label: Inband Management
                ndfc_gui_section: Manageability
                required: false
                type: bool
        -   isis_auth_enable:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable IS-IS Authentication
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   isis_auth_key:
                description:
                - Cisco Type 7 Encrypted
                ndfc_gui_label: IS-IS Authentication Key
                ndfc_gui_section: Protocols
                required: true
                type: str
        -   isis_auth_keychain_key_id:
                default: 127
                description:
                - (Min:0, Max:65535)
                max: 65535
                min: 0
                ndfc_gui_label: IS-IS Authentication Key ID
                ndfc_gui_section: Protocols
                required: true
                type: int
        -   isis_auth_keychain_name:
                description:
                - unknown
                ndfc_gui_label: IS-IS Authentication Keychain Name
                ndfc_gui_section: Protocols
                required: true
                type: str
        -   isis_level:
                choices:
                - level-1
                - level-2
                default: level-2
                description:
                - 'Supported IS types: level-1, level-2'
                ndfc_gui_label: IS-IS Level
                ndfc_gui_section: Protocols
                required: true
                type: str
        -   isis_overload_elapse_time:
                default: 60
                description:
                - Clear the overload bit after an elapsed time in seconds
                ndfc_gui_label: IS-IS Overload Bit Elapsed Time
                ndfc_gui_section: Protocols
                required: true
                type: int
        -   isis_overload_enable:
                default: 1
                description:
                - When enabled, set the overload bit for an elapsed time after a reload
                ndfc_gui_label: Set IS-IS Overload Bit
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   isis_p2p_enable:
                default: 1
                description:
                - This will enable network point-to-point on fabric interfaces which
                    are numbered
                ndfc_gui_label: Enable IS-IS Network Point-to-Point
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   l2_host_intf_mtu:
                default: 9216
                description:
                - (Min:1500, Max:9216). Must be an even number
                max: 9216
                min: 1500
                ndfc_gui_label: Layer 2 Host Interface MTU
                ndfc_gui_section: Advanced
                required: true
                type: int
        -   l2_segment_id_range:
                default: 30000-49000
                description:
                - Overlay Network Identifier Range (Min:1, Max:16777214)
                max: 16777214
                min: 1
                ndfc_gui_label: Layer 2 VXLAN VNI Range
                ndfc_gui_section: Resources
                required: true
                type: integerRange
        -   l3_partition_id_range:
                default: 50000-59000
                description:
                - Overlay VRF Identifier Range (Min:1, Max:16777214)
                max: 16777214
                min: 1
                ndfc_gui_label: Layer 3 VXLAN VNI Range
                ndfc_gui_section: Resources
                required: true
                type: integerRange
        -   l3vni_mcast_group:
                default: 239.1.1.0
                description:
                - Default Underlay Multicast group IP assigned for every overlay VRF.
                ndfc_gui_label: Default MDT Address for TRM VRFs
                ndfc_gui_section: Replication
                required: true
                type: ipv4
        -   link_state_routing:
                choices:
                - ospf
                - is-is
                default: ospf
                description:
                - Used for Spine-Leaf Connectivity
                ndfc_gui_label: Underlay Routing Protocol
                required: true
                type: str
        -   link_state_routing_tag:
                default: UNDERLAY
                description:
                - Underlay Routing Process Tag
                ndfc_gui_label: Underlay Routing Protocol Tag
                ndfc_gui_section: Protocols
                required: true
                type: str
        -   loopback0_ip_range:
                default: 10.2.0.0/22
                description:
                - Typically Loopback0 IP Address Range
                ndfc_gui_label: Underlay Routing Loopback IP Range
                ndfc_gui_section: Resources
                required: true
                type: ipv4_subnet
        -   loopback0_ipv6_range:
                default: fd00::a02:0/119
                description:
                - Typically Loopback0 IPv6 Address Range
                ndfc_gui_label: Underlay Routing Loopback IPv6 Range
                ndfc_gui_section: Resources
                required: true
                type: ipv6_subnet
        -   loopback1_ip_range:
                default: 10.3.0.0/22
                description:
                - Typically Loopback1 IP Address Range
                ndfc_gui_label: Underlay VTEP Loopback IP Range
                ndfc_gui_section: Resources
                required: true
                type: ipv4_subnet
        -   loopback1_ipv6_range:
                default: fd00::a03:0/118
                description:
                - Typically Loopback1 and Anycast Loopback IPv6 Address Range
                ndfc_gui_label: Underlay VTEP Loopback IPv6 Range
                ndfc_gui_section: Resources
                required: true
                type: ipv6_subnet
        -   macsec_algorithm:
                default: AES_128_CMAC
                description:
                - AES_128_CMAC or AES_256_CMAC
                ndfc_gui_label: MACsec Primary Cryptographic Algorithm
                ndfc_gui_section: Advanced
                required: true
                type: enum
        -   macsec_cipher_suite:
                default: GCM-AES-XPN-256
                description:
                - Configure Cipher Suite
                ndfc_gui_label: MACsec Cipher Suite
                ndfc_gui_section: Advanced
                required: true
                type: enum
        -   macsec_fallback_algorithm:
                default: AES_128_CMAC
                description:
                - AES_128_CMAC or AES_256_CMAC
                ndfc_gui_label: MACsec Fallback Cryptographic Algorithm
                ndfc_gui_section: Advanced
                required: true
                type: enum
        -   macsec_fallback_key_string:
                description:
                - Cisco Type 7 Encrypted Octet String
                ndfc_gui_label: MACsec Fallback Key String
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   macsec_key_string:
                description:
                - Cisco Type 7 Encrypted Octet String
                ndfc_gui_label: MACsec Primary Key String
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   macsec_report_timer:
                default: 5
                description:
                - MACsec Operational Status periodic report timer in minutes
                ndfc_gui_label: MACsec Status Report Timer
                ndfc_gui_section: Advanced
                required: true
                type: int
        -   mgmt_gw:
                description:
                - Default Gateway For Management VRF On The Switch
                ndfc_gui_label: Switch Mgmt Default Gateway
                ndfc_gui_section: Bootstrap
                required: true
                type: ipv4
        -   mgmt_prefix:
                default: 24
                description:
                - (Min:8, Max:30)
                max: 30
                min: 8
                ndfc_gui_label: Switch Mgmt IP Subnet Prefix
                ndfc_gui_section: Bootstrap
                required: true
                type: int
        -   mgmt_v6prefix:
                default: 64
                description:
                - (Min:64, Max:126)
                max: 126
                min: 64
                ndfc_gui_label: Switch Mgmt IPv6 Subnet Prefix
                ndfc_gui_section: Bootstrap
                required: false
                type: int
        -   mpls_handoff:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable MPLS Handoff
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   mpls_lb_id:
                default: 101
                description:
                - Used for VXLAN to MPLS SR/LDP Handoff (Min:0, Max:1023)
                max: 1023
                min: 0
                ndfc_gui_label: Underlay MPLS Loopback Id
                ndfc_gui_section: Advanced
                required: true
                type: int
        -   mpls_loopback_ip_range:
                default: 10.101.0.0/25
                description:
                - Used for VXLAN to MPLS SR/LDP Handoff
                ndfc_gui_label: Underlay MPLS Loopback IP Range
                ndfc_gui_section: Resources
                required: true
                type: ipv4_subnet
        -   mst_instance_range:
                default: 0
                description:
                - 'MST instance range, Example: 0-3,5,7-9, Default is 0'
                ndfc_gui_label: MST Instance Range
                ndfc_gui_section: Advanced
                required: true
                type: integerRange
        -   multicast_group_subnet:
                default: 239.1.1.0/25
                description:
                - Multicast pool prefix between 8 to 30. A multicast group IP from
                    this pool is used for BUM traffic for each overlay network.
                ndfc_gui_label: Multicast Group Subnet
                ndfc_gui_section: Replication
                required: true
                type: ipv4_subnet
        -   netflow_exporter_list:
                description:
                - One or Multiple Netflow Exporters
                ndfc_gui_label: Netflow Exporter
                ndfc_gui_section: Flow Monitor
                required: true
                type: structureArray
        -   netflow_monitor_list:
                description:
                - One or Multiple Netflow Monitors
                ndfc_gui_label: Netflow Monitor
                ndfc_gui_section: Flow Monitor
                required: true
                type: structureArray
        -   netflow_record_list:
                description:
                - One or Multiple Netflow Records
                ndfc_gui_label: Netflow Record
                ndfc_gui_section: Flow Monitor
                required: true
                type: structureArray
        -   network_extension_template:
                choices:
                - Default_Network_Extension_Universal
                default: Default_Network_Extension_Universal
                description:
                - Default Overlay Network Template For Borders
                ndfc_gui_label: Network Extension Template
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   network_vlan_range:
                default: 2300-2999
                description:
                - Per Switch Overlay Network VLAN Range (Min:2, Max:4094)
                max: 4094
                min: 2
                ndfc_gui_label: Network VLAN Range
                ndfc_gui_section: Resources
                required: true
                type: integerRange
        -   ntp_server_ip_list:
                description:
                - Comma separated list of IP Addresses(v4/v6)
                ndfc_gui_label: NTP Server IPs
                ndfc_gui_section: Manageability
                required: false
                type: ipAddressList
        -   ntp_server_vrf:
                description:
                - One VRF for all NTP servers or a comma separated list of VRFs, one
                    per NTP server
                ndfc_gui_label: NTP Server VRFs
                ndfc_gui_section: Manageability
                required: false
                type: string[]
        -   nve_lb_id:
                default: 1
                description:
                - (Min:0, Max:1023)
                max: 1023
                min: 0
                ndfc_gui_label: Underlay VTEP Loopback Id
                ndfc_gui_section: Protocols
                required: true
                type: int
        -   nxapi_http_port:
                default: 80
                description:
                - unknown
                ndfc_gui_label: NX-API HTTP Port Number
                ndfc_gui_section: Advanced
                required: false
                type: int
        -   nxapi_https_port:
                default: 443
                description:
                - unknown
                ndfc_gui_label: NX-API HTTPS Port Number
                ndfc_gui_section: Advanced
                required: false
                type: int
        -   object_tracking_number_range:
                default: 100-299
                description:
                - 'Per switch tracked object ID Range (Min:1, Max: 512)'
                max: 512
                min: 1
                ndfc_gui_label: Tracked Object ID Range
                ndfc_gui_section: Resources
                required: false
                type: integerRange
        -   ospf_area_id:
                default: 0.0.0.0
                description:
                - OSPF Area Id in IP address format
                ndfc_gui_label: OSPF Area Id
                ndfc_gui_section: Protocols
                required: true
                type: str
        -   ospf_auth_enable:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable OSPF Authentication
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   ospf_auth_key:
                description:
                - 3DES Encrypted
                ndfc_gui_label: OSPF Authentication Key
                ndfc_gui_section: Protocols
                required: true
                type: str
        -   ospf_auth_key_id:
                default: 127
                description:
                - (Min:0, Max:255)
                max: 255
                min: 0
                ndfc_gui_label: OSPF Authentication Key ID
                ndfc_gui_section: Protocols
                required: true
                type: int
        -   overlay_mode:
                default: cli
                description:
                - VRF/Network configuration using config-profile or CLI
                ndfc_gui_label: Overlay Mode
                ndfc_gui_section: Advanced
                required: false
                type: enum
        -   per_vrf_loopback_auto_provision:
                default: 0
                description:
                - Auto provision a loopback on a VTEP on VRF attachment
                ndfc_gui_label: Per VRF Per VTEP Loopback Auto-Provisioning
                ndfc_gui_section: Resources
                required: false
                type: bool
        -   per_vrf_loopback_ip_range:
                default: 10.5.0.0/22
                description:
                - Prefix pool to assign IP addresses to loopbacks on VTEPs on a per
                    VRF basis
                ndfc_gui_label: Per VRF Per VTEP IP Pool for Loopbacks
                ndfc_gui_section: Resources
                required: true
                type: ipv4_subnet
        -   phantom_rp_lb_id1:
                default: 2
                description:
                - Used for Bidir-PIM Phantom RP (Min:0, Max:1023)
                max: 1023
                min: 0
                ndfc_gui_label: Underlay Primary RP Loopback Id
                ndfc_gui_section: Replication
                required: true
                type: int
        -   phantom_rp_lb_id2:
                default: 3
                description:
                - Used for Fallback Bidir-PIM Phantom RP (Min:0, Max:1023)
                max: 1023
                min: 0
                ndfc_gui_label: Underlay Backup RP Loopback Id
                ndfc_gui_section: Replication
                required: true
                type: int
        -   phantom_rp_lb_id3:
                default: 4
                description:
                - Used for second Fallback Bidir-PIM Phantom RP (Min:0, Max:1023)
                max: 1023
                min: 0
                ndfc_gui_label: Underlay Second Backup RP Loopback Id
                ndfc_gui_section: Replication
                required: true
                type: int
        -   phantom_rp_lb_id4:
                default: 5
                description:
                - Used for third Fallback Bidir-PIM Phantom RP (Min:0, Max:1023)
                max: 1023
                min: 0
                ndfc_gui_label: Underlay Third Backup RP Loopback Id
                ndfc_gui_section: Replication
                required: true
                type: int
        -   pim_hello_auth_enable:
                default: 0
                description:
                - Valid for IPv4 Underlay only
                ndfc_gui_label: Enable PIM Hello Authentication
                ndfc_gui_section: Protocols
                required: false
                type: bool
        -   pim_hello_auth_key:
                description:
                - 3DES Encrypted
                ndfc_gui_label: PIM Hello Authentication Key
                ndfc_gui_section: Protocols
                required: true
                type: str
        -   pm_enable:
                default: 0
                description:
                - unknown
                ndfc_gui_label: Enable Performance Monitoring
                required: false
                type: bool
        -   power_redundancy_mode:
                choices:
                - ps-redundant
                - combined
                - insrc-redundant
                default: ps-redundant
                description:
                - Default Power Supply Mode For The Fabric
                ndfc_gui_label: Power Supply Mode
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   ptp_domain_id:
                default: 0
                description:
                - Multiple Independent PTP Clocking Subdomains on a Single Network
                    (Min:0, Max:127)
                max: 127
                min: 0
                ndfc_gui_label: PTP Domain Id
                ndfc_gui_section: Advanced
                required: true
                type: int
        -   ptp_lb_id:
                default: 0
                description:
                - (Min:0, Max:1023)
                max: 1023
                min: 0
                ndfc_gui_label: PTP Source Loopback Id
                ndfc_gui_section: Advanced
                required: true
                type: int
        -   replication_mode:
                choices:
                - Multicast
                - Ingress
                default: Multicast
                description:
                - Replication Mode for BUM Traffic
                ndfc_gui_label: Replication Mode
                ndfc_gui_section: Replication
                required: true
                type: str
        -   route_map_sequence_number_range:
                default: 1-65534
                description:
                - (Min:1, Max:65534)
                max: 65534
                min: 1
                ndfc_gui_label: Route Map Sequence Number Range
                ndfc_gui_section: Resources
                required: true
                type: integerRange
        -   router_id_range:
                default: 10.2.0.0/23
                description:
                - unknown
                ndfc_gui_label: BGP Router ID Range for IPv6 Underlay
                ndfc_gui_section: Resources
                required: true
                type: ipv4_subnet
        -   rp_count:
                choices:
                - 2
                - 4
                default: 2
                description:
                - Number of spines acting as Rendezvous-Point (RP)
                ndfc_gui_label: Rendezvous-Points
                ndfc_gui_section: Replication
                required: true
                type: int
        -   rp_lb_id:
                default: 254
                description:
                - (Min:0, Max:1023)
                max: 1023
                min: 0
                ndfc_gui_label: Underlay RP Loopback Id
                ndfc_gui_section: Replication
                required: true
                type: int
        -   rp_mode:
                choices:
                - asm
                - bidir
                default: asm
                description:
                - Multicast RP Mode
                ndfc_gui_label: RP Mode
                ndfc_gui_section: Replication
                required: true
                type: str
        -   rr_count:
                choices:
                - 2
                - 4
                default: 2
                description:
                - Number of spines acting as Route-Reflectors
                ndfc_gui_label: Route-Reflectors
                required: true
                type: int
        -   scheduled_time:
                description:
                - Time (UTC) in 24hr format. (00:00 to 23:59)
                ndfc_gui_label: Scheduled Time
                ndfc_gui_section: Configuration Backup
                required: true
                type: str
        -   seed_switch_core_interfaces:
                description:
                - Core-facing Interface list on Seed Switch (e.g. e1/1-30,e1/32)
                ndfc_gui_label: Seed Switch Fabric Interfaces
                ndfc_gui_section: Bootstrap
                required: false
                type: interfaceRange
        -   service_network_vlan_range:
                default: 3000-3199
                description:
                - Per Switch Overlay Service Network VLAN Range (Min:2, Max:4094)
                max: 4094
                min: 2
                ndfc_gui_label: Service Network VLAN Range
                ndfc_gui_section: Resources
                required: true
                type: integerRange
        -   site_id:
                description:
                - 'For EVPN Multi-Site Support (Min:1, Max: 281474976710655). Defaults
                    to Fabric ASN'
                max: 281474976710655
                min: 1
                ndfc_gui_label: Site Id
                ndfc_gui_section: Advanced
                required: false
                type: str
        -   sla_id_range:
                default: 10000-19999
                description:
                - 'Per switch SLA ID Range (Min:1, Max: 2147483647)'
                max: 2147483647
                min: 1
                ndfc_gui_label: Service Level Agreement (SLA) ID Range
                ndfc_gui_section: Resources
                required: false
                type: integerRange
        -   snmp_server_host_trap:
                default: 1
                description:
                - Configure NDFC as a receiver for SNMP traps
                ndfc_gui_label: Enable NDFC as Trap Host
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   spine_switch_core_interfaces:
                description:
                - Core-facing Interface list on all Spines (e.g. e1/1-30,e1/32)
                ndfc_gui_label: Spine Switch Fabric Interfaces
                ndfc_gui_section: Bootstrap
                required: false
                type: interfaceRange
        -   static_underlay_ip_alloc:
                default: 0
                description:
                - Checking this will disable Dynamic Underlay IP Address Allocations
                ndfc_gui_label: Manual Underlay IP Address Allocation
                ndfc_gui_section: Resources
                required: false
                type: bool
        -   stp_bridge_priority:
                default: 0
                description:
                - Bridge priority for the spanning tree in increments of 4096
                ndfc_gui_label: Spanning Tree Bridge Priority
                ndfc_gui_section: Advanced
                required: true
                type: enum
        -   stp_root_option:
                choices:
                - rpvst+
                - mst
                - unmanaged
                default: unmanaged
                description:
                - 'Which protocol to use for configuring root bridge? rpvst+: Rapid
                    Per-VLAN Spanning Tree, mst: Multiple Spanning Tree, unmanaged
                    (default): STP Root not managed by NDFC'
                ndfc_gui_label: Spanning Tree Root Bridge Protocol
                ndfc_gui_section: Advanced
                required: false
                type: str
        -   stp_vlan_range:
                default: 1-3967
                description:
                - 'Vlan range, Example: 1,3-5,7,9-11, Default is 1-3967'
                ndfc_gui_label: Spanning Tree VLAN Range
                ndfc_gui_section: Advanced
                required: true
                type: integerRange
        -   strict_cc_mode:
                default: 0
                description:
                - Enable bi-directional compliance checks to flag additional configs
                    in the running config that are not in the intent/expected config
                ndfc_gui_label: Enable Strict Config Compliance
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   subinterface_range:
                default: 2-511
                description:
                - Per Border Dot1q Range For VRF Lite Connectivity (Min:2, Max:4093)
                max: 4093
                min: 2
                ndfc_gui_label: Subinterface Dot1q Range
                ndfc_gui_section: Resources
                required: true
                type: integerRange
        -   subnet_range:
                default: 10.4.0.0/16
                description:
                - Address range to assign Numbered and Peer Link SVI IPs
                ndfc_gui_label: Underlay Subnet IP Range
                ndfc_gui_section: Resources
                required: true
                type: ipv4_subnet
        -   subnet_target_mask:
                choices:
                - 30
                - 31
                default: 30
                description:
                - Mask for Underlay Subnet IP Range
                ndfc_gui_label: Underlay Subnet IP Mask
                required: true
                type: int
        -   syslog_server_ip_list:
                description:
                - Comma separated list of IP Addresses(v4/v6)
                ndfc_gui_label: Syslog Server IPs
                ndfc_gui_section: Manageability
                required: false
                type: ipAddressList
        -   syslog_server_vrf:
                description:
                - One VRF for all Syslog servers or a comma separated list of VRFs,
                    one per Syslog server
                ndfc_gui_label: Syslog Server VRFs
                ndfc_gui_section: Manageability
                required: false
                type: string[]
        -   syslog_sev:
                description:
                - Comma separated list of Syslog severity values, one per Syslog server
                    (Min:0, Max:7)
                max: 7
                min: 0
                ndfc_gui_label: Syslog Server Severity
                ndfc_gui_section: Manageability
                required: false
                type: string[]
        -   tcam_allocation:
                default: 1
                description:
                - TCAM commands are automatically generated for VxLAN and vPC Fabric
                    Peering when Enabled
                ndfc_gui_label: Enable TCAM Allocation
                ndfc_gui_section: Advanced
                required: false
                type: bool
        -   underlay_is_v6:
                default: 0
                description:
                - If not enabled, IPv4 underlay is used
                ndfc_gui_label: Enable IPv6 Underlay
                required: false
                type: bool
        -   unnum_bootstrap_lb_id:
                default: 253
                description:
                - unknown
                ndfc_gui_label: Bootstrap Seed Switch Loopback Interface ID
                ndfc_gui_section: Bootstrap
                required: true
                type: int
        -   unnum_dhcp_end:
                description:
                - Must be a subset of IGP/BGP Loopback Prefix Pool
                ndfc_gui_label: Switch Loopback DHCP Scope End Address
                ndfc_gui_section: Bootstrap
                required: true
                type: ipv4
        -   unnum_dhcp_start:
                description:
                - Must be a subset of IGP/BGP Loopback Prefix Pool
                ndfc_gui_label: Switch Loopback DHCP Scope Start Address
                ndfc_gui_section: Bootstrap
                required: true
                type: ipv4
        -   use_link_local:
                default: 1
                description:
                - If not enabled, Spine-Leaf interfaces will use global IPv6 addresses
                ndfc_gui_label: Enable IPv6 Link-Local Address
                required: false
                type: bool
        -   v6_subnet_range:
                default: fd00::a04:0/112
                description:
                - IPv6 Address range to assign Numbered and Peer Link SVI IPs
                ndfc_gui_label: Underlay Subnet IPv6 Range
                ndfc_gui_section: Resources
                required: true
                type: ipv6_subnet
        -   v6_subnet_target_mask:
                choices:
                - 126
                - 127
                default: 126
                description:
                - Mask for Underlay Subnet IPv6 Range
                ndfc_gui_label: Underlay Subnet IPv6 Mask
                required: true
                type: int
        -   vpc_auto_recovery_time:
                default: 360
                description:
                - (Min:240, Max:3600)
                max: 3600
                min: 240
                ndfc_gui_label: vPC Auto Recovery Time (In Seconds)
                ndfc_gui_section: vPC
                required: true
                type: int
        -   vpc_delay_restore:
                default: 150
                description:
                - (Min:1, Max:3600)
                max: 3600
                min: 1
                ndfc_gui_label: vPC Delay Restore Time (In Seconds)
                ndfc_gui_section: vPC
                required: true
                type: int
        -   vpc_domain_id_range:
                default: 1-1000
                description:
                - vPC Domain id range to use for new pairings
                ndfc_gui_label: vPC Domain Id Range
                ndfc_gui_section: vPC
                required: false
                type: integerRange
        -   vpc_enable_ipv6_nd_sync:
                default: 1
                description:
                - Enable IPv6 ND synchronization between vPC peers
                ndfc_gui_label: vPC IPv6 ND Synchronize
                ndfc_gui_section: vPC
                required: false
                type: bool
        -   vpc_peer_keep_alive_option:
                choices:
                - loopback
                - management
                default: management
                description:
                - Use vPC Peer Keep Alive with Loopback or Management
                ndfc_gui_label: vPC Peer Keep Alive option
                ndfc_gui_section: vPC
                required: true
                type: str
        -   vpc_peer_link_po:
                default: 500
                description:
                - (Min:1, Max:4096)
                max: 4096
                min: 1
                ndfc_gui_label: vPC Peer Link Port Channel ID
                ndfc_gui_section: vPC
                required: false
                type: integerRange
        -   vpc_peer_link_vlan:
                default: 3600
                description:
                - VLAN range for vPC Peer Link SVI (Min:2, Max:4094)
                max: 4094
                min: 2
                ndfc_gui_label: vPC Peer Link VLAN Range
                ndfc_gui_section: vPC
                required: true
                type: integerRange
        -   vrf_extension_template:
                choices:
                - Default_VRF_Extension_Universal
                default: Default_VRF_Extension_Universal
                description:
                - Default Overlay VRF Template For Borders
                ndfc_gui_label: VRF Extension Template
                ndfc_gui_section: Advanced
                required: true
                type: str
        -   vrf_lite_autoconfig:
                choices:
                - Manual
                - Back2Back&ToExternal
                default: Manual
                description:
                - VRF Lite Inter-Fabric Connection Deployment Options. If Back2Back&ToExternal
                    is selected, VRF Lite IFCs are auto created between border devices
                    of two Easy Fabrics, and between border devices in Easy Fabric
                    and edge routers in External Fabric. The IP address is taken from
                    the VRF Lite Subnet IP Range pool.
                ndfc_gui_label: VRF Lite Deployment
                ndfc_gui_section: Resources
                required: true
                type: str
        -   vrf_vlan_range:
                default: 2000-2299
                description:
                - Per Switch Overlay VRF VLAN Range (Min:2, Max:4094)
                max: 4094
                min: 2
                ndfc_gui_label: VRF VLAN Range
                ndfc_gui_section: Resources
                required: true
                type: integerRange
        type: list
    state:
        choices:
        - merged
        - query
        default: merged
        description:
        - The state of DCNM after module completion
        - I(merged) and I(query) are the only states supported.
        type: str

